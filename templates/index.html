{% extends 'base.html' %}

{% block head %}
    <title>Cantello National Bank Account List Page Teller View</title>
{% endblock %}

{% block body %}
    <div class="content">
        <h1>Cantello National Bank</h1>
        <br>
        <table class="tableAdd">
            <tr>
                <th colspan="5" class="tableCellAdd">Add an Account</th>
            </tr>
            <tr>
                <td class="tableCellAdd">First Name</td>
                <td class="tableCellAdd">Last Name</td>
                <td class="tableCellAdd">Email</td>
                <td class="tableCellAdd">Account Type</td>
                <td class="tableCellAdd">Account Balance</td>
            </tr>
            <tr>
                <form action="/" method="POST">
                    <td class="tableCellAdd">
                        <input type="text" name="first_name" id="first_name" required>
                    </td>
                    <td class="tableCellAdd">
                        <input type="text" name="last_name" id="last_name" required>
                    </td>
                    <td class="tableCellAdd">
                        <input type="email" name="email" id="email" required>
                    </td>
                    <td class="tableCellAdd">
                        <select name="account_type" id="account_type" required>
                            <option>Choose a type of account..</option>
                            <option value = "checking">Checking</option>
                            <option value = "savings">Savings</option>
                            <option value = "cd">CD</option>
                            <option value = "homeloan">Home Loan</option>
                            <option value = "carloan">Car Loan</option>
                        </select>
                    </td>
                    <td class="tableCellAdd">
                        <input type="integer" name="account_balance" id="account_balance" required>
                    </td>
            </tr>
            <tr>
                    <td colspan="5" class="tableCellAdd">
                        <input type="submit" value="Add Account">
                    </td>
                </form>
            </tr>
        </table>
        <br>
        {% if accounts|length < 1 %}
        <h3>There are no accounts. Please create one above.</h3>
        {% else %}
            <table class="table-sortable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Email</th>
                        <th>Account Type</th>
                        <th>Account Balance</th>
                        <th>Data Created</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                {% for account in accounts %}
                <tbody>
                    <tr>
                        <td>{{ account.id }}</td>
                        <td>{{ account.first_name }}</td>
                        <td>{{ account.last_name }}</td>
                        <td>{{ account.email }}</td>
                        <td>{{ account.account_type }}</td>
                        <td>{{ account.account_balance }}</td>
                        <td>{{ account.date_created }}</td>
                        <td>
                            <a href="/update/{{account.id}}">Update</a>
                            <br>
                            <a href="/delete/{{account.id}}">Delete</a>
                        </td>
                    </tr>
                </tbody>
                {% endfor %}
            </table>
        {% endif %}
    </div>
{% endblock %}